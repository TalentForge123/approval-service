{
  "query": "CREATE TABLE `approval_events` (\n\t`id` varchar(36) NOT NULL DEFAULT (UUID()),\n\t`deal_id` varchar(36) NOT NULL,\n\t`type` enum('SENT','VIEWED','APPROVED','REJECTED') NOT NULL,\n\t`meta_json` text,\n\t`created_at` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `approval_events_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `approval_tokens` (\n\t`id` varchar(36) NOT NULL DEFAULT (UUID()),\n\t`deal_id` varchar(36) NOT NULL,\n\t`token_hash` varchar(255) NOT NULL,\n\t`expires_at` timestamp NOT NULL,\n\t`used_at` timestamp,\n\t`created_at` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `approval_tokens_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `approval_tokens_token_hash_unique` UNIQUE(`token_hash`)\n);\nCREATE TABLE `deal_snapshots` (\n\t`id` varchar(36) NOT NULL DEFAULT (UUID()),\n\t`client_name` varchar(255) NOT NULL,\n\t`client_email` varchar(320),\n\t`currency` varchar(3) NOT NULL DEFAULT 'EUR',\n\t`total` int NOT NULL,\n\t`items_json` text NOT NULL,\n\t`status` enum('DRAFT','SENT','APPROVED','REJECTED','EXPIRED') NOT NULL DEFAULT 'DRAFT',\n\t`created_at` timestamp NOT NULL DEFAULT (now()),\n\t`updated_at` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `deal_snapshots_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `webhook_configs` (\n\t`id` varchar(36) NOT NULL DEFAULT (UUID()),\n\t`deal_id` varchar(36),\n\t`url` varchar(2048) NOT NULL,\n\t`events` varchar(255) NOT NULL,\n\t`is_active` int NOT NULL DEFAULT 1,\n\t`created_at` timestamp NOT NULL DEFAULT (now()),\n\t`updated_at` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `webhook_configs_id` PRIMARY KEY(`id`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3jBrbGxorJtfPyV.f6dac58645b8 --database 9N6fMaV93x5oxhdX7XVgSR --execute CREATE TABLE `approval_events` (\n\t`id` varchar(36) NOT NULL DEFAULT (UUID()),\n\t`deal_id` varchar(36) NOT NULL,\n\t`type` enum('SENT','VIEWED','APPROVED','REJECTED') NOT NULL,\n\t`meta_json` text,\n\t`created_at` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `approval_events_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `approval_tokens` (\n\t`id` varchar(36) NOT NULL DEFAULT (UUID()),\n\t`deal_id` varchar(36) NOT NULL,\n\t`token_hash` varchar(255) NOT NULL,\n\t`expires_at` timestamp NOT NULL,\n\t`used_at` timestamp,\n\t`created_at` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `approval_tokens_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `approval_tokens_token_hash_unique` UNIQUE(`token_hash`)\n);\nCREATE TABLE `deal_snapshots` (\n\t`id` varchar(36) NOT NULL DEFAULT (UUID()),\n\t`client_name` varchar(255) NOT NULL,\n\t`client_email` varchar(320),\n\t`currency` varchar(3) NOT NULL DEFAULT 'EUR',\n\t`total` int NOT NULL,\n\t`items_json` text NOT NULL,\n\t`status` enum('DRAFT','SENT','APPROVED','REJECTED','EXPIRED') NOT NULL DEFAULT 'DRAFT',\n\t`created_at` timestamp NOT NULL DEFAULT (now()),\n\t`updated_at` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `deal_snapshots_id` PRIMARY KEY(`id`)\n);\nCREATE TABLE `webhook_configs` (\n\t`id` varchar(36) NOT NULL DEFAULT (UUID()),\n\t`deal_id` varchar(36),\n\t`url` varchar(2048) NOT NULL,\n\t`events` varchar(255) NOT NULL,\n\t`is_active` int NOT NULL DEFAULT 1,\n\t`created_at` timestamp NOT NULL DEFAULT (now()),\n\t`updated_at` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `webhook_configs_id` PRIMARY KEY(`id`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1395
}